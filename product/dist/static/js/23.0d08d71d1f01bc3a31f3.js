webpackJsonp([23],{1857:function(t,e,a){function o(t){a(2083)}var l=a(108)(a(2018),a(2133),o,null,null);t.exports=l.exports},2018:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a(388),l=a.n(o),s=a(387),r=a(389),n=a.n(r);e.default={data:function(){return{loading:!1,fileList:[],exportDataIsShow:!1,searchData:{employeeId:"",country:[],mallTime:[],settlement:"",realName:"",phone:"",orderNo:"",storeId:""},exportData:{store:""},storeData:[],tableData:[]}},computed:{tabHeight:function(){return this.$store.state.include.tableHeight-365}},mounted:function(){this.data_table()},methods:{btn_auth:function(t){return this.$store.state.user.AUTHIDS.split(",").some(function(e){return e===t})},fetchStoreData:function(t){this.get_storeOfArea(t[t.length-1])},get_storeOfArea:function(t){var e=this;s.a.fetch_storeOfArea({district:t}).then(function(t){1===t.data.code&&(e.searchData.storeId="",e.storeData=[{value:"",label:"请选择门店"}],e.storeData=e.storeData.concat(t.data.dat))})},resetForm:function(){this.storeData=[],this.searchData.country=[],this.searchData.order="",this.searchData.mallTime=[],this.searchData.settlement="",this.searchData.realName="",this.searchData.phone="",this.searchData.orderNo="",this.searchData.storeId="",this.searchData.employeeId=""},data_table:function(t){var e=this,a={page:t-1||0,settlement:this.searchData.settlement,realName:this.searchData.realName,phone:this.searchData.phone,orderNo:this.searchData.orderNo,storeId:this.searchData.storeId,employeeId:this.searchData.employeeId,timeBegin:"",timeEnd:"",province:"",city:"",district:""};this.searchData.mallTime.length>0&&l()(a,{timeBegin:new Date(this.searchData.mallTime[1]).Format("yyyy-MM-dd"),timeEnd:new Date(this.searchData.mallTime[0]).Format("yyyy-MM-dd")}),this.searchData.country.length>0&&l()(a,{city:this.searchData.country[0],province:this.searchData.country[1],district:this.searchData.country[2]}),this.loading=!0,s.a.data_personMoneyTable(a).then(function(t){e.loading=!1,1===t.data.code&&(e.tableData=t.data.dat)})},handleAvatarSuccess:function(t){1===t.code?(this.$message({duration:1500,message:t.msg}),this.handleClose()):this.$message({duration:1500,message:t.msg,type:"error"})},downloadExcel:function(){var t=l()({},this.searchData,{city:"",province:"",district:"",timeBegin:"",timeEnd:""});this.searchData.mallTime.length>0&&l()(t,{timeBegin:new Date(this.searchData.mallTime[1]).Format("yyyy-MM-dd"),timeEnd:new Date(this.searchData.mallTime[0]).Format("yyyy-MM-dd")}),this.searchData.country.length>0&&l()(t,{city:this.searchData.country[0],province:this.searchData.country[1],district:this.searchData.country[2]}),window.location.href="/api/web/settlement/exportData?"+n.a.stringify(t)},submitUpload:function(){this.$refs.upload.uploadFiles.length>0?this.$refs.upload.submit():this.$message({duration:1500,message:"请添加财务结算文件"})},handleClose:function(t){this.exportDataIsShow=!1}},watch:{exportDataIsShow:function(){var t=this;this.exportDataIsShow||this.$nextTick(function(){t.$refs.upload.clearFiles()})}}}},2045:function(t,e,a){e=t.exports=a(1830)(!0),e.push([t.i,".person-money .search-table .el-col>div,.person-money .search-table .el-col>div>div,.person-money .search-table .el-col>div>div>div{width:100%}.person-money .person-money-table{margin-bottom:20px}","",{version:3,sources:["D:/www.github.com/product/product/src/components/manage-person/childrens/money.vue"],names:[],mappings:"AAOA,oIACM,UAAY,CACjB,AACD,kCACE,kBAAoB,CACrB",file:"money.vue",sourcesContent:["\n.person-money .search-table .el-col > div {\n  width: 100%;\n}\n.person-money .search-table .el-col > div > div {\n    width: 100%;\n}\n.person-money .search-table .el-col > div > div > div {\n      width: 100%;\n}\n.person-money .person-money-table {\n  margin-bottom: 20px;\n}\n"],sourceRoot:""}])},2083:function(t,e,a){var o=a(2045);"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);a(1831)("5db7c32f",o,!0)},2133:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"person-money"},[a("div",{staticClass:"search-table"},[a("el-form",{ref:"form",attrs:{inline:!0}},[a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{span:5}},[a("el-form-item",[a("div",{staticClass:"country-select"},[a("el-cascader",{attrs:{options:this.$store.state.select.country,props:this.$store.state.select.defaultCountryProps,placeholder:"请选择区域"},on:{change:t.fetchStoreData},model:{value:t.searchData.country,callback:function(e){t.searchData.country=e},expression:"searchData.country"}})],1)])],1),t._v(" "),a("el-col",{attrs:{span:5}},[a("el-form-item",[a("el-select",{attrs:{placeholder:"请选择门店"},model:{value:t.searchData.storeId,callback:function(e){t.searchData.storeId=e},expression:"searchData.storeId"}},t._l(t.storeData,function(t,e){return a("el-option",{key:e,attrs:{label:t.label,value:t.val}})}))],1)],1),t._v(" "),a("el-col",{attrs:{span:5}},[a("el-form-item",[a("el-input",{attrs:{placeholder:"工号"},model:{value:t.searchData.employeeId,callback:function(e){t.searchData.employeeId=e},expression:"searchData.employeeId"}})],1)],1),t._v(" "),a("el-col",{staticStyle:{"min-width":"230px"},attrs:{span:6}},[a("el-form-item",[a("el-date-picker",{attrs:{type:"daterange",placeholder:"选择时间范围"},model:{value:t.searchData.mallTime,callback:function(e){t.searchData.mallTime=e},expression:"searchData.mallTime"}})],1)],1)],1),t._v(" "),a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{span:4}},[a("el-form-item",[a("el-select",{attrs:{placeholder:"结算状态"},model:{value:t.searchData.settlement,callback:function(e){t.searchData.settlement=e},expression:"searchData.settlement"}},t._l(this.$store.state.select.payStatus,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1)],1),t._v(" "),a("el-col",{attrs:{span:4}},[a("el-form-item",[a("el-input",{attrs:{placeholder:"配送员姓名"},model:{value:t.searchData.realName,callback:function(e){t.searchData.realName=e},expression:"searchData.realName"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:5}},[a("el-form-item",[a("el-input",{attrs:{placeholder:"配送员联系方式"},model:{value:t.searchData.phone,callback:function(e){t.searchData.phone=e},expression:"searchData.phone"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:5}},[a("el-form-item",[a("el-input",{attrs:{placeholder:"订单编号"},model:{value:t.searchData.orderNo,callback:function(e){t.searchData.orderNo=e},expression:"searchData.orderNo"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:4}},[a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:t.data_table}},[t._v("查询")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.resetForm}},[t._v("重置")])],1)],1)],1)],1)],1),t._v(" "),a("div",{staticClass:"person-money-table"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading.body",value:t.loading,expression:"loading",modifiers:{body:!0}}],ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:t.tableData.details,"max-height":t.tabHeight,height:t.tabHeight,border:"","tooltip-effect":"dark"}},[a("el-table-column",{attrs:{align:"center","min-width":"180",prop:"orderNo",label:"订单号"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"orderTime","min-width":"180",label:"订单时间"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"commission",label:"佣金","show-overflow-tooltip":""}}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"deliveryName",label:"配送员",width:"150","show-overflow-tooltip":""}}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"employeeId",label:"工号",width:"150","show-overflow-tooltip":""}}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"phone",label:"联系方式",width:"200"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"orderType",label:"类别","show-overflow-tooltip":""}}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"level",label:"等级","show-overflow-tooltip":""}}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"storeName","min-width":"180",label:"门店","show-overflow-tooltip":""}}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"status",width:"150",label:"结算状态","show-overflow-tooltip":""}})],1)],1),t._v(" "),a("div",{staticClass:"person-manage-pagination"},[a("el-row",[a("el-col",{attrs:{lg:10}},[a("div",{staticClass:"other-btn"},[a("el-col",{attrs:{lg:24}},[a("el-button",{attrs:{disabled:!t.btn_auth("b_cw_dc_excel"),plain:!0,type:"info"},on:{click:t.downloadExcel}},[t._v("导出excel")]),t._v(" "),a("el-button",{attrs:{disabled:!t.btn_auth("b_cw_dr_excel"),plain:!0,type:"info"},on:{click:function(e){t.exportDataIsShow=!0}}},[t._v("导入excel")])],1)],1)]),t._v(" "),a("el-col",{staticStyle:{"text-align":"right"},attrs:{lg:14}},[a("el-pagination",{attrs:{"page-sizes":[20],layout:"total, sizes, prev, pager, next, jumper",total:t.tableData.rowsCount},on:{"current-change":t.data_table}})],1)],1)],1),t._v(" "),a("div",{staticClass:"export-data-component"},[a("el-dialog",{attrs:{title:"导入数据",size:"tiny",visible:t.exportDataIsShow},on:{"update:visible":function(e){t.exportDataIsShow=e}}},[a("el-form",{ref:"exportData",attrs:{model:t.exportData,"label-width":"80px"}},[a("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{"on-success":t.handleAvatarSuccess,action:"/api/web/settlement/importExcel","file-list":t.fileList,"auto-upload":!1}},[a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("只能上传xlsx、xls文件，且不超过10M")]),t._v(" "),a("el-button",{attrs:{slot:"trigger",size:"small",type:"primary"},slot:"trigger"},[t._v("选取文件")])],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.handleClose()}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.submitUpload}},[t._v("导 入")])],1)],1)],1)])},staticRenderFns:[]}}});
//# sourceMappingURL=23.0d08d71d1f01bc3a31f3.js.map