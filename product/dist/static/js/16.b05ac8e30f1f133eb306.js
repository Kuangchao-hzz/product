webpackJsonp([16],{1781:function(t,e,o){function a(t){o(1884)}var l=o(113)(o(1832),o(1935),a,null,null);t.exports=l.exports},1793:function(t,e,o){t.exports={default:o(1794),__esModule:!0}},1794:function(t,e,o){var a=o(97),l=a.JSON||(a.JSON={stringify:JSON.stringify});t.exports=function(t){return l.stringify.apply(l,arguments)}},1832:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=o(1793),l=o.n(a),i=o(345);e.default={data:function(){return{createDialogForm:{isShow:!1,type:0,title:"",content:""},tableData:[]}},mounted:function(){this.data_table()},methods:{localStorage_details:function(t){this.$router.push("/system/noticeDetails"),localStorage.setItem("details_notice",l()(t))},data_table:function(t){var e=this;i.a.data_noticeTable({page:t-1||0}).then(function(t){1===t.data.code?e.tableData=t.data.dat:e.swal(t.data.msg)})},add_tableData:function(){var t=this;this.$refs.createDialogForm.validate(function(e){if(!e)return console.log("error submit!!"),!1;i.a.edit_systemNoticeTable({type:t.createDialogForm.type,title:t.createDialogForm.title,content:t.createDialogForm.content}).then(function(e){1===e.data.code?(swal("发布成功!"),t.createDialogForm.isShow=!1,t.data_table()):self.swal(e.data.msg)})})},handleClose:function(t){this.$confirm("确认关闭？").then(function(e){t()}).catch(function(t){})}}}},1846:function(t,e,o){e=t.exports=o(1752)(!0),e.push([t.i,".view-notice .notice-group,.view-notice .system-notice-table{margin-bottom:20px}.view-notice .system-notice-pagination{text-align:right}","",{version:3,sources:["D:/www.github.com/project/product/src/components/manage-system/childrens/notice.vue"],names:[],mappings:"AAIA,6DACE,kBAAoB,CACrB,AACD,uCACE,gBAAkB,CACnB",file:"notice.vue",sourcesContent:["\n.view-notice .notice-group {\n  margin-bottom: 20px;\n}\n.view-notice .system-notice-table {\n  margin-bottom: 20px;\n}\n.view-notice .system-notice-pagination {\n  text-align: right;\n}\n"],sourceRoot:""}])},1884:function(t,e,o){var a=o(1846);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);o(1753)("20f14480",a,!0)},1935:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"view-notice"},[o("div",{staticClass:"notice-group"},[o("el-button",{on:{click:function(e){t.createDialogForm.isShow=!0}}},[t._v("发布公告")])],1),t._v(" "),o("div",{staticClass:"system-notice-table"},[o("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:t.tableData.details,border:"","tooltip-effect":"dark"}},[o("el-table-column",{attrs:{prop:"title",align:"center",label:"标题"}}),t._v(" "),o("el-table-column",{attrs:{prop:"content",align:"center","show-overflow-tooltip":!0,label:"内容"}}),t._v(" "),o("el-table-column",{attrs:{prop:"creator",align:"center",label:"目标人群","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s(0===e.row.type?"所有人":"")+"\n          "+t._s(1===e.row.type?"员工":"")+"\n          "+t._s(2===e.row.type?"社会人":"")+"\n        ")]}}])}),t._v(" "),o("el-table-column",{attrs:{prop:"pubTime",align:"center",label:"发送时间","show-overflow-tooltip":""}}),t._v(" "),o("el-table-column",{attrs:{align:"center",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("el-button",{attrs:{type:"text",size:"small"},on:{click:function(o){t.localStorage_details(e.row)}}},[t._v("查看详情")])]}}])})],1)],1),t._v(" "),o("div",{staticClass:"system-notice-pagination"},[o("el-pagination",{attrs:{"page-sizes":[20],layout:"total, sizes, prev, pager, next, jumper",total:t.tableData.rowsCount},on:{"current-change":t.data_table}})],1),t._v(" "),o("el-dialog",{attrs:{title:"发布公告",visible:t.createDialogForm.isShow,size:"small","before-close":t.handleClose},on:{"update:visible":function(e){t.createDialogForm.isShow=e}}},[o("el-form",{ref:"createDialogForm",attrs:{model:t.createDialogForm,"label-width":"100px"}},[o("el-form-item",{attrs:{label:"公告标题: ",prop:"title",rules:{required:!0,message:"标题不能为空",trigger:"blur"}}},[o("el-input",{model:{value:t.createDialogForm.title,callback:function(e){t.createDialogForm.title=e},expression:"createDialogForm.title"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"目标人群"}},[o("el-radio-group",{model:{value:t.createDialogForm.type,callback:function(e){t.createDialogForm.type=e},expression:"createDialogForm.type"}},[o("el-radio",{attrs:{label:0}},[t._v("所有人")]),t._v(" "),o("el-radio",{attrs:{label:1}},[t._v("员工")]),t._v(" "),o("el-radio",{attrs:{label:2}},[t._v("社会人")])],1)],1),t._v(" "),o("el-form-item",{attrs:{label:"公告内容",prop:"content",rules:{required:!0,message:"公告内容不能为空",trigger:"blur"}}},[o("el-input",{attrs:{type:"textarea"},model:{value:t.createDialogForm.content,callback:function(e){t.createDialogForm.content=e},expression:"createDialogForm.content"}})],1),t._v(" "),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:t.add_tableData}},[t._v("确定")]),t._v(" "),o("el-button",{on:{click:function(e){t.createDialogForm.isShow=!1}}},[t._v("取消")])],1)],1)],1)],1)},staticRenderFns:[]}}});
//# sourceMappingURL=16.b05ac8e30f1f133eb306.js.map