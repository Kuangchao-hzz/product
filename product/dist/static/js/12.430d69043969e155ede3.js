webpackJsonp([12],{1855:function(e,t,a){function n(e){a(2070)}var l=a(108)(a(2015),a(2119),n,null,null);e.exports=l.exports},1864:function(e,t,a){"use strict";var n=a(124);t.a={details_orderRoutle:function(e){return n.a.get("/web/orderManage/orderRoutle",{params:e})},details_tableSendTable:function(e){return n.a.get("/web/orderManage/orderDetail",{params:e})},details_submitStoreAdd:function(e){return n.a.post("/web/storeManage/add",e)},details_storeAreaData:function(){return n.a.get("/web/commData/allArea")},details_tableStoreTable:function(e){return n.a.get("/web/storeManage/detail",{params:e})},details_personData:function(e){return n.a.get("/web/deliveryUserManage/detail",{params:e})},details_personTableData:function(e){return n.a.get("/web/deliveryUserManage/orderList",{params:e})},details_personViewIdCardData:function(e){return n.a.get("/web/deliveryUserManage/viewIdCard",{params:e})},data_tableAuditCheckPwd:function(e){return n.a.get("/web/deliveryUserManage/checkPwd",{params:e})},details_handlePersonUpDown:function(e){return n.b.post("/web/deliveryUserManage/changeLevel",e,{responseType:"json"})},details_handlePersonEnabled:function(e){return n.b.post("/web/deliveryUserManage/enable",e)},details_handleOrderBackToYb:function(e){return n.b.post("/web/orderManage/backToYb",e)},details_handleOrderClose:function(e){return n.a.post("/web/orderManage/close",e)},details_handleOrderRePush:function(e){return n.b.post("/web/orderManage/rePush",e)},details_handleOrderManualHandle:function(e){return n.b.post("/web/orderManage/manualHandle",e)},again_push:function(e){return n.a.post("/web/systemNotice/repush",e)},delete_push:function(e){return n.a.post("/web/systemNotice/del",e)},details_submitStore:function(e){return n.a.post("/web/storeManage/edit",e)},details_submitAudit:function(e){return n.b.post("/web/deliveryUserManage/audit",e)}}},2015:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(125),l=a.n(n),r=a(237),s=a.n(r),o=a(388),i=a.n(o),c=a(387),u=a(1864);t.default={data:function(){return{loading:!1,searchData:{page:0,localStorage:!0,country:[],userType:"",level:"",workStatus:"",accountStatus:"",realName:"",phone:""},tableData:[],multipleSelection:[]}},computed:{tabHeight:function(){return this.$store.state.include.tableHeight-305}},mounted:function(){var e=JSON.parse(localStorage.getItem("personManage_search"));e&&e.localStorage&&(this.searchData=e),this.data_table()},methods:{btn_auth:function(e){return this.$store.state.user.AUTHIDS.split(",").some(function(t){return t===e})},resetForm:function(){this.searchData.country=[],this.searchData.userType="",this.searchData.level="",this.searchData.workStatus="",this.searchData.accountStatus="",this.searchData.realName="",this.searchData.phone="",this.data_table()},data_table:function(e){var t=this;t.loading=!0;var a={page:e-1||t.searchData.page,level:t.searchData.level,userType:t.searchData.userType,workStatus:t.searchData.workStatus,accountStatus:t.searchData.accountStatus,realName:t.searchData.realName,phone:t.searchData.phone,province:"",city:"",district:""};this.searchData.country.length>0&&i()(a,{city:this.searchData.country[0],province:this.searchData.country[1],district:this.searchData.country[2]}),c.a.data_personManageTable(a).then(function(e){t.loading=!1,1===e.data.code&&(localStorage.setItem("personManage_search",s()(t.searchData)),t.tableData=e.data.dat)})},handlePersonUpDown:function(e){var t=this,a=1===e?"你确定要升级该配送员?":"你确定要降级该配送员?";swal({title:a,type:"warning",showCancelButton:!0,reverseButtons:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"确定",cancelButtonText:"取消"}).then(function(){var a={direction:e};if(t.multipleSelection.length<1)return t.$message({duration:1500,message:"请勾选需要处理的列表！"}),!1;if(1===t.multipleSelection.length)a=i()({},a,{id:t.multipleSelection[0].id});else{var n=t.multipleSelection.map(function(e){return e.id});a=i()({},a,{ids:n})}u.a.details_handlePersonUpDown(a).then(function(e){1===e.data.code&&(t.$message({duration:1500,message:"操作成功！"}),t.data_table())})},function(){})},handlePersonEnabled:function(e){var t=this,a=0===e?"你确定要冻结该配送员?":"你确定要解冻该配送员?";swal({title:a,type:"warning",text:"请填写冻结原因!",input:"text",showCancelButton:!0,reverseButtons:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"确定",cancelButtonText:"取消",preConfirm:function(e){return new l.a(function(t,a){""===e?a("请填写冻结原因"):t()})},allowOutsideClick:!1}).then(function(a){var n={direction:e};if(t.multipleSelection.length<1)return t.$message({duration:1500,message:"请勾选需要处理的列表！"}),!1;if(1===t.multipleSelection.length)n=i()({},n,{id:t.multipleSelection[0].id,reason:a});else{var l=t.multipleSelection.map(function(e){return e.id});n=i()({},n,{ids:l,reason:a})}u.a.details_handlePersonEnabled(n).then(function(e){1===e.data.code&&(t.$message({duration:1500,message:"操作成功！"}),t.data_table())})},function(){})},handleSelectionChange:function(e){this.multipleSelection=e},submitForm:function(){alert(s()(this.searchData))}},beforeRouteLeave:function(e,t,a){"/person/personDetails"!==e.path&&localStorage.setItem("personManage_search",null),a()}}},2033:function(e,t,a){t=e.exports=a(1830)(!0),t.push([e.i,".person-manage .search-table .el-col>div,.person-manage .search-table .el-col>div>div,.person-manage .search-table .el-col>div>div>div{width:100%}.person-manage .person-manage-table{margin-bottom:20px}.person-manage .person-manage-pagination{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:center;-ms-flex-align:center;align-items:center}","",{version:3,sources:["G:/www.github.com/product/product/src/components/manage-person/childrens/manage.vue"],names:[],mappings:"AAOA,uIACM,UAAY,CACjB,AACD,oCACE,kBAAoB,CACrB,AACD,yCACE,oBAAqB,AACrB,oBAAqB,AACrB,aAAc,AACd,yBAA0B,AACtB,sBAAuB,AACnB,8BAA+B,AACvC,yBAA0B,AACtB,sBAAuB,AACnB,kBAAoB,CAC7B",file:"manage.vue",sourcesContent:["\n.person-manage .search-table .el-col > div {\n  width: 100%;\n}\n.person-manage .search-table .el-col > div > div {\n    width: 100%;\n}\n.person-manage .search-table .el-col > div > div > div {\n      width: 100%;\n}\n.person-manage .person-manage-table {\n  margin-bottom: 20px;\n}\n.person-manage .person-manage-pagination {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: justify;\n      -ms-flex-pack: justify;\n          justify-content: space-between;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n}\n"],sourceRoot:""}])},2070:function(e,t,a){var n=a(2033);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);a(1831)("3fc64aba",n,!0)},2119:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"person-manage"},[a("div",{staticClass:"search-table"},[a("el-form",{ref:"form",attrs:{inline:!0}},[a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{span:3}},[a("el-form-item",[a("div",{staticClass:"country-select"},[a("el-cascader",{attrs:{options:this.$store.state.select.country,props:this.$store.state.select.defaultCountryProps,placeholder:"请选择区域","change-on-select":""},model:{value:e.searchData.country,callback:function(t){e.searchData.country=t},expression:"searchData.country"}})],1)])],1),e._v(" "),a("el-col",{attrs:{span:3}},[a("el-form-item",[a("el-select",{attrs:{placeholder:"类别"},model:{value:e.searchData.userType,callback:function(t){e.searchData.userType=t},expression:"searchData.userType"}},e._l(this.$store.state.select.category,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1)],1),e._v(" "),a("el-col",{attrs:{span:2}},[a("el-form-item",[a("el-select",{attrs:{placeholder:"等级"},model:{value:e.searchData.level,callback:function(t){e.searchData.level=t},expression:"searchData.level"}},e._l(this.$store.state.select.personLevel,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1)],1),e._v(" "),a("el-col",{attrs:{span:3}},[a("el-form-item",[a("el-select",{attrs:{placeholder:"工作状态"},model:{value:e.searchData.workStatus,callback:function(t){e.searchData.workStatus=t},expression:"searchData.workStatus"}},e._l(this.$store.state.select.workStatus,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1)],1),e._v(" "),a("el-col",{attrs:{span:3}},[a("el-form-item",[a("el-select",{attrs:{placeholder:"账号状态"},model:{value:e.searchData.accountStatus,callback:function(t){e.searchData.accountStatus=t},expression:"searchData.accountStatus"}},e._l(this.$store.state.select.accountStatus,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1)],1),e._v(" "),a("el-col",{attrs:{span:3}},[a("el-form-item",[a("el-input",{attrs:{placeholder:"配送员姓名"},model:{value:e.searchData.realName,callback:function(t){e.searchData.realName=t},expression:"searchData.realName"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:3}},[a("el-form-item",[a("el-input",{attrs:{placeholder:"配送员联系方式"},model:{value:e.searchData.phone,callback:function(t){e.searchData.phone=t},expression:"searchData.phone"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:4}},[a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.data_table}},[e._v("查询")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.resetForm}},[e._v("重置")])],1)],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"person-manage-table"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading.body",value:e.loading,expression:"loading",modifiers:{body:!0}}],ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.tableData.details,height:e.tabHeight,"max-height":e.tabHeight,border:"","tooltip-effect":"dark"},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",align:"center",fixed:"",width:"55"}}),e._v(" "),a("el-table-column",{attrs:{align:"center","min-width":"150",label:"配送员"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("p",[e._v(e._s(t.row.realName))]),e._v(" "),a("p",[e._v(e._s(t.row.phone))])]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"类别"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n          "+e._s("1"==t.row.userType?"员工":"")+"\n          "+e._s("2"==t.row.userType?"社会":"")+"\n        ")]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"等级"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n          "+e._s(t.row.level+"级")+"\n        ")]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center","min-width":"150",label:"工作状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n          "+e._s("1"==t.row.workStatus?"休息中":"")+"\n          "+e._s("2"==t.row.workStatus?"配送中":"")+"\n          "+e._s(t.row.limitText?"("+t.row.limitText+")":"")+"\n        ")]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center","min-width":"200",prop:"city",label:"常驻地区"}}),e._v(" "),a("el-table-column",{attrs:{align:"center","min-width":"200",prop:"lastStoreName",label:"最近送货门店"}}),e._v(" "),a("el-table-column",{attrs:{align:"center","min-width":"100",prop:"orderAmount",label:"总抢单量"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"准达率"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.ontimeRate+"%"))]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"退单率"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.cancelRate+"%"))]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center","min-width":"100",label:"账号状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n          "+e._s("1"==t.row.accountStatus?"正常":"")+"\n          "+e._s("0"==t.row.accountStatus?"冻结":"")+"\n        ")]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",fixed:"right",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small"}},[a("router-link",{attrs:{to:{path:"/person/personDetails",query:{id:t.row.id}}}},[e._v("查看详情")])],1)]}}])})],1)],1),e._v(" "),a("div",{staticClass:"person-manage-pagination"},[a("div",{staticClass:"other-btn"},[a("el-button",{attrs:{disabled:!e.btn_auth("b_ps_sj"),plain:!0,type:"info"},on:{click:function(t){e.handlePersonUpDown(1)}}},[e._v("升级")]),e._v(" "),a("el-button",{attrs:{disabled:!e.btn_auth("b_ps_jj"),plain:!0,type:"info"},on:{click:function(t){e.handlePersonUpDown(0)}}},[e._v("降级")]),e._v(" "),a("el-button",{attrs:{disabled:!e.btn_auth("b_ps_djzh"),plain:!0,type:"info"},on:{click:function(t){e.handlePersonEnabled(0)}}},[e._v("冻结账号")]),e._v(" "),a("el-button",{attrs:{disabled:!e.btn_auth("b_ps_zhjd"),plain:!0,type:"info"},on:{click:function(t){e.handlePersonEnabled(1)}}},[e._v("账号解冻")])],1),e._v(" "),a("el-pagination",{attrs:{"page-sizes":[20],layout:"total, sizes, prev, pager, next, jumper",total:e.tableData.rowsCount},on:{"current-change":e.data_table}})],1)])},staticRenderFns:[]}}});
//# sourceMappingURL=12.430d69043969e155ede3.js.map