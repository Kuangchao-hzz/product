webpackJsonp([11],{1858:function(e,t,a){function n(e){a(2069)}var o=a(108)(a(2018),a(2118),n,null,null);e.exports=o.exports},1864:function(e,t,a){"use strict";var n=a(124);t.a={details_orderRoutle:function(e){return n.a.get("/web/orderManage/orderRoutle",{params:e})},details_tableSendTable:function(e){return n.a.get("/web/orderManage/orderDetail",{params:e})},details_submitStoreAdd:function(e){return n.a.post("/web/storeManage/add",e)},details_storeAreaData:function(){return n.a.get("/web/commData/allArea")},details_tableStoreTable:function(e){return n.a.get("/web/storeManage/detail",{params:e})},details_personData:function(e){return n.a.get("/web/deliveryUserManage/detail",{params:e})},details_personTableData:function(e){return n.a.get("/web/deliveryUserManage/orderList",{params:e})},details_personViewIdCardData:function(e){return n.a.get("/web/deliveryUserManage/viewIdCard",{params:e})},data_tableAuditCheckPwd:function(e){return n.a.get("/web/deliveryUserManage/checkPwd",{params:e})},details_handlePersonUpDown:function(e){return n.b.post("/web/deliveryUserManage/changeLevel",e,{responseType:"json"})},details_handlePersonEnabled:function(e){return n.b.post("/web/deliveryUserManage/enable",e)},details_handleOrderBackToYb:function(e){return n.b.post("/web/orderManage/backToYb",e)},details_handleOrderClose:function(e){return n.a.post("/web/orderManage/close",e)},details_handleOrderRePush:function(e){return n.b.post("/web/orderManage/rePush",e)},details_handleOrderManualHandle:function(e){return n.b.post("/web/orderManage/manualHandle",e)},again_push:function(e){return n.a.post("/web/systemNotice/repush",e)},delete_push:function(e){return n.a.post("/web/systemNotice/del",e)},details_submitStore:function(e){return n.a.post("/web/storeManage/edit",e)},details_submitAudit:function(e){return n.b.post("/web/deliveryUserManage/audit",e)}}},2018:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(237),o=a.n(n),r=a(387),i=a(1864);t.default={data:function(){return{createDialogForm:{isShow:!1,type:0,title:"",content:""},tableData:[]}},computed:{tabHeight:function(){return this.$store.state.include.tableHeight-305}},mounted:function(){this.data_table()},methods:{again_push:function(e){var t=this;swal({title:"你确定要重新推送?",type:"warning",showCancelButton:!0,reverseButtons:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"确定",cancelButtonText:"取消"}).then(function(){i.a.again_push({id:e.id}).then(function(e){1===e.data.code&&(t.$message("操作成功！"),t.data_table())})},function(){})},delete_push:function(e){var t=this;swal({title:"你确定要删除?",type:"warning",showCancelButton:!0,reverseButtons:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"确定",cancelButtonText:"取消"}).then(function(){i.a.delete_push({id:e.id}).then(function(e){1===e.data.code&&(t.$message("操作成功！"),t.data_table())})},function(){})},btn_auth:function(e){return this.$store.state.user.AUTHIDS.split(",").some(function(t){return t===e})},localStorage_details:function(e){this.$router.push("/system/noticeDetails"),localStorage.setItem("details_notice",o()(e))},data_table:function(e){var t=this;r.a.data_noticeTable({page:e-1||0}).then(function(e){t.tableData=e.data.dat})},add_tableData:function(){var e=this;this.$refs.createDialogForm.validate(function(t){if(!t)return!1;r.a.edit_systemNoticeTable({type:e.createDialogForm.type,title:e.createDialogForm.title,content:e.createDialogForm.content}).then(function(){e.$message({duration:1500,message:"发布成功！"}),e.createDialogForm.isShow=!1,e.data_table()})})},handleClose:function(e){this.$confirm("确认关闭？").then(function(t){e()}).catch(function(e){})}}}},2032:function(e,t,a){t=e.exports=a(1830)(!0),t.push([e.i,".view-notice .notice-group,.view-notice .system-notice-table{margin-bottom:20px}.view-notice .system-notice-pagination{text-align:right}","",{version:3,sources:["G:/www.github.com/product/product/src/components/manage-system/childrens/notice.vue"],names:[],mappings:"AAIA,6DACE,kBAAoB,CACrB,AACD,uCACE,gBAAkB,CACnB",file:"notice.vue",sourcesContent:["\n.view-notice .notice-group {\n  margin-bottom: 20px;\n}\n.view-notice .system-notice-table {\n  margin-bottom: 20px;\n}\n.view-notice .system-notice-pagination {\n  text-align: right;\n}\n"],sourceRoot:""}])},2069:function(e,t,a){var n=a(2032);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);a(1831)("20f14480",n,!0)},2118:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"view-notice"},[a("div",{staticClass:"notice-group"},[a("el-button",{attrs:{disabled:!e.btn_auth("b_gg_fbgg")},on:{click:function(t){e.createDialogForm.isShow=!0}}},[e._v("发布公告")])],1),e._v(" "),a("div",{staticClass:"system-notice-table"},[a("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{height:e.tabHeight,"max-height":e.tabHeight,data:e.tableData.details,border:"","tooltip-effect":"dark"}},[a("el-table-column",{attrs:{prop:"title",align:"center",label:"标题"}}),e._v(" "),a("el-table-column",{attrs:{prop:"content",align:"center","show-overflow-tooltip":!0,label:"内容"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"目标人群","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n          "+e._s(0===t.row.type?"所有人":"")+"\n          "+e._s(1===t.row.type?"员工":"")+"\n          "+e._s(2===t.row.type?"社会人":"")+"\n        ")]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"pubTime",align:"center",label:"发送时间","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){e.localStorage_details(t.row)}}},[e._v("查看详情")]),e._v(" "),a("el-button",{attrs:{type:"text",size:"small",disabled:!e.btn_auth("b_gg_cxts")},on:{click:function(a){e.again_push(t.row)}}},[e._v("重新推送")]),e._v(" "),a("el-button",{attrs:{type:"text",size:"small",disabled:!e.btn_auth("b_gg_sc")},on:{click:function(a){e.delete_push(t.row)}}},[e._v("删除")])]}}])})],1)],1),e._v(" "),a("div",{staticClass:"system-notice-pagination"},[a("el-pagination",{attrs:{"page-sizes":[20],layout:"total, sizes, prev, pager, next, jumper",total:e.tableData.rowsCount},on:{"current-change":e.data_table}})],1),e._v(" "),a("el-dialog",{attrs:{title:"发布公告",visible:e.createDialogForm.isShow,size:"small","before-close":e.handleClose},on:{"update:visible":function(t){e.createDialogForm.isShow=t}}},[a("el-form",{ref:"createDialogForm",attrs:{model:e.createDialogForm,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"公告标题: ",prop:"title",rules:{required:!0,message:"标题不能为空",trigger:"blur"}}},[a("el-input",{model:{value:e.createDialogForm.title,callback:function(t){e.createDialogForm.title=t},expression:"createDialogForm.title"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"目标人群"}},[a("el-radio-group",{model:{value:e.createDialogForm.type,callback:function(t){e.createDialogForm.type=t},expression:"createDialogForm.type"}},[a("el-radio",{attrs:{label:0}},[e._v("所有人")]),e._v(" "),a("el-radio",{attrs:{label:1}},[e._v("员工")]),e._v(" "),a("el-radio",{attrs:{label:2}},[e._v("社会人")])],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"公告内容",prop:"content",rules:{required:!0,message:"公告内容不能为空",trigger:"blur"}}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.createDialogForm.content,callback:function(t){e.createDialogForm.content=t},expression:"createDialogForm.content"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.add_tableData}},[e._v("确定")]),e._v(" "),a("el-button",{on:{click:function(t){e.createDialogForm.isShow=!1}}},[e._v("取消")])],1)],1)],1)],1)},staticRenderFns:[]}}});
//# sourceMappingURL=11.e1f500d7ec938453182d.js.map