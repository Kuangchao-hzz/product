webpackJsonp([14],{1849:function(t,e,o){function a(t){o(2068)}var i=o(122)(o(2016),o(2118),a,null,null);t.exports=i.exports},1971:function(t,e,o){t.exports={default:o(1972),__esModule:!0}},1972:function(t,e,o){var a=o(55),i=a.JSON||(a.JSON={stringify:JSON.stringify});t.exports=function(t){return i.stringify.apply(i,arguments)}},2016:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=o(1971),i=o.n(a),n=o(383);e.default={data:function(){return{createDialogForm:{isShow:!1,type:0,title:"",content:""},tableData:[]}},computed:{tabHeight:function(){return this.$store.state.include.tableHeight-305}},mounted:function(){this.data_table()},methods:{btn_auth:function(t){return this.$store.state.user.AUTHIDS.split(",").some(function(e){return e===t})},localStorage_details:function(t){this.$router.push("/system/noticeDetails"),localStorage.setItem("details_notice",i()(t))},data_table:function(t){var e=this;n.a.data_noticeTable({page:t-1||0}).then(function(t){e.tableData=t.data.dat})},add_tableData:function(){var t=this;this.$refs.createDialogForm.validate(function(e){if(!e)return!1;n.a.edit_systemNoticeTable({type:t.createDialogForm.type,title:t.createDialogForm.title,content:t.createDialogForm.content}).then(function(){t.$message({duration:1500,message:"发布成功！"}),t.createDialogForm.isShow=!1,t.data_table()})})},handleClose:function(t){this.$confirm("确认关闭？").then(function(e){t()}).catch(function(t){})}}}},2030:function(t,e,o){e=t.exports=o(1820)(!0),e.push([t.i,".view-notice .notice-group,.view-notice .system-notice-table{margin-bottom:20px}.view-notice .system-notice-pagination{text-align:right}","",{version:3,sources:["D:/www.github.com/project/product/src/components/manage-system/childrens/notice.vue"],names:[],mappings:"AAIA,6DACE,kBAAoB,CACrB,AACD,uCACE,gBAAkB,CACnB",file:"notice.vue",sourcesContent:["\n.view-notice .notice-group {\n  margin-bottom: 20px;\n}\n.view-notice .system-notice-table {\n  margin-bottom: 20px;\n}\n.view-notice .system-notice-pagination {\n  text-align: right;\n}\n"],sourceRoot:""}])},2068:function(t,e,o){var a=o(2030);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);o(1821)("20f14480",a,!0)},2118:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"view-notice"},[o("div",{staticClass:"notice-group"},[o("el-button",{attrs:{disabled:!t.btn_auth("b_yh_xzyh")},on:{click:function(e){t.createDialogForm.isShow=!0}}},[t._v("发布公告")])],1),t._v(" "),o("div",{staticClass:"system-notice-table"},[o("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{height:t.tabHeight,"max-height":t.tabHeight,data:t.tableData.details,border:"","tooltip-effect":"dark"}},[o("el-table-column",{attrs:{prop:"title",align:"center",label:"标题"}}),t._v(" "),o("el-table-column",{attrs:{prop:"content",align:"center","show-overflow-tooltip":!0,label:"内容"}}),t._v(" "),o("el-table-column",{attrs:{align:"center",label:"目标人群","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s(0===e.row.type?"所有人":"")+"\n          "+t._s(1===e.row.type?"员工":"")+"\n          "+t._s(2===e.row.type?"社会人":"")+"\n        ")]}}])}),t._v(" "),o("el-table-column",{attrs:{prop:"pubTime",align:"center",label:"发送时间","show-overflow-tooltip":""}}),t._v(" "),o("el-table-column",{attrs:{align:"center",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("el-button",{attrs:{type:"text",size:"small"},on:{click:function(o){t.localStorage_details(e.row)}}},[t._v("查看详情\n          ")])]}}])})],1)],1),t._v(" "),o("div",{staticClass:"system-notice-pagination"},[o("el-pagination",{attrs:{"page-sizes":[20],layout:"total, sizes, prev, pager, next, jumper",total:t.tableData.rowsCount},on:{"current-change":t.data_table}})],1),t._v(" "),o("el-dialog",{attrs:{title:"发布公告",visible:t.createDialogForm.isShow,size:"small","before-close":t.handleClose},on:{"update:visible":function(e){t.createDialogForm.isShow=e}}},[o("el-form",{ref:"createDialogForm",attrs:{model:t.createDialogForm,"label-width":"100px"}},[o("el-form-item",{attrs:{label:"公告标题: ",prop:"title",rules:{required:!0,message:"标题不能为空",trigger:"blur"}}},[o("el-input",{model:{value:t.createDialogForm.title,callback:function(e){t.createDialogForm.title=e},expression:"createDialogForm.title"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"目标人群"}},[o("el-radio-group",{model:{value:t.createDialogForm.type,callback:function(e){t.createDialogForm.type=e},expression:"createDialogForm.type"}},[o("el-radio",{attrs:{label:0}},[t._v("所有人")]),t._v(" "),o("el-radio",{attrs:{label:1}},[t._v("员工")]),t._v(" "),o("el-radio",{attrs:{label:2}},[t._v("社会人")])],1)],1),t._v(" "),o("el-form-item",{attrs:{label:"公告内容",prop:"content",rules:{required:!0,message:"公告内容不能为空",trigger:"blur"}}},[o("el-input",{attrs:{type:"textarea"},model:{value:t.createDialogForm.content,callback:function(e){t.createDialogForm.content=e},expression:"createDialogForm.content"}})],1),t._v(" "),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:t.add_tableData}},[t._v("确定")]),t._v(" "),o("el-button",{on:{click:function(e){t.createDialogForm.isShow=!1}}},[t._v("取消")])],1)],1)],1)],1)},staticRenderFns:[]}}});
//# sourceMappingURL=14.3be5209db6b35f72827d.js.map