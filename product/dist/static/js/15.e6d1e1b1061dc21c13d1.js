webpackJsonp([15],{1840:function(e,t,a){function r(e){a(2075)}var s=a(108)(a(2001),a(2125),r,null,null);e.exports=s.exports},1865:function(e,t,a){"use strict";var r=a(124);t.a={details_orderRoutle:function(e){return r.a.get("/web/orderManage/orderRoutle",{params:e})},details_tableSendTable:function(e){return r.a.get("/web/orderManage/orderDetail",{params:e})},details_submitStoreAdd:function(e){return r.a.post("/web/storeManage/add",e)},details_storeAreaData:function(){return r.a.get("/web/commData/allArea")},details_tableStoreTable:function(e){return r.a.get("/web/storeManage/detail",{params:e})},details_personData:function(e){return r.a.get("/web/deliveryUserManage/detail",{params:e})},details_personTableData:function(e){return r.a.get("/web/deliveryUserManage/orderList",{params:e})},details_personViewIdCardData:function(e){return r.a.get("/web/deliveryUserManage/viewIdCard",{params:e})},data_tableAuditCheckPwd:function(e){return r.a.get("/web/deliveryUserManage/checkPwd",{params:e})},details_handlePersonUpDown:function(e){return r.b.post("/web/deliveryUserManage/changeLevel",e,{responseType:"json"})},details_handlePersonEnabled:function(e){return r.b.post("/web/deliveryUserManage/enable",e)},details_handleOrderBackToYb:function(e){return r.b.post("/web/orderManage/backToYb",e)},details_handleOrderClose:function(e){return r.a.post("/web/orderManage/close",e)},details_handleOrderRePush:function(e){return r.b.post("/web/orderManage/rePush",e)},details_handleOrderManualHandle:function(e){return r.b.post("/web/orderManage/manualHandle",e)},again_push:function(e){return r.a.post("/web/systemNotice/repush",e)},delete_push:function(e){return r.a.post("/web/systemNotice/del",e)},details_submitStore:function(e){return r.a.post("/web/storeManage/edit",e)},details_submitAudit:function(e){return r.b.post("/web/deliveryUserManage/audit",e)}}},2001:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,s=a(388),n=a.n(s),o=a(2155),i=a.n(o),l=a(2156),d=a.n(l),u=a(1865);t.default={data:function(){return{storeType:!1,storeData:[],storeAreaData:[],detailsData:{id:"",country:[],areaName:"",storeNo:"",name:"",address:"",longitude:"121.499702",latitude:"31.239152",contactPerson:"",contact:"",remark:"",employeePrefix:""},zoom:12,rules:{country:[{type:"array",required:!0,message:"请选择地区",trigger:"change"}],storeNo:[{required:!0,message:"请输入门店号",trigger:"blur"}],name:[{required:!0,message:"请输入门店名称",trigger:"blur"}],address:[{required:!0,message:"请输入地址",trigger:"blur"}],longitude:[{required:!0,message:"请输入经度",trigger:"blur"}],latitude:[{required:!0,message:"请输入纬度",trigger:"blur"}],contactPerson:[{required:!0,message:"请输入联系人",trigger:"blur"}],contact:[{required:!0,message:"请输入联系方式",trigger:"blur"}],remark:[{required:!0,message:"请输入备注",trigger:"blur"}],employeePrefix:[{required:!0,message:"请输入工号",trigger:"blur"}]}}},mounted:function(){this.init(),this.details_storeAreaData()},computed:{handlerStoreAreaData:function(){return this.storeAreaData.length>0?this.storeAreaData:[]},handlerStoreType:function(){return this.storeType},handlerMapCenter:function(){if(this.detailsData&&this.detailsData.longitude&&this.detailsData.latitude)return[Number(this.detailsData.longitude),Number(this.detailsData.latitude)]},amapMapData:function(){return this.detailsData},userPoints:function(){var e=this;if(this.detailsData.longitude&&this.detailsData.latitude)return[{position:[this.detailsData.longitude,this.detailsData.latitude],events:{click:function(){},dragend:function(t){e.markers.position=[t.lnglat.lng,t.lnglat.lat]}},visible:!0,draggable:!1}]}},methods:{init:function(){var e=this;d.a.loadUI(["overlay/SimpleInfoWindow","overlay/SimpleMarker"],function(t,a){var s=e.detailsData;r=new i.a.Map("container",{center:[e.detailsData.longitude,s.latitude],zoom:12}),new i.a.Marker({position:[s.longitude,s.latitude]}).setMap(r),i.a.plugin(["AMap.ToolBar","AMap.Scale"],function(){r.addControl(new i.a.ToolBar),r.addControl(new i.a.Scale)})})},handleChange:function(e){console.log(e)},details_storeAreaData:function(){var e=this;u.a.details_storeAreaData().then(function(t){1===t.data.code&&(e.storeAreaData=t.data.dat)})},details_tableStore:function(e){var t=this;u.a.details_tableStoreTable({id:e}).then(function(e){t.$nextTick(function(){t.detailsData=e.data.dat,n()(t.detailsData,{country:[]}),t.detailsData.country.push(t.detailsData.province),t.detailsData.country.push(t.detailsData.city),t.detailsData.country.push(t.detailsData.district)})})},details_SubmitStore:function(){var e=this,t=this;this.$refs.detailsDataForm.validate(function(a){if(!a)return!1;var r=n()({},t.detailsData);r.country.length>0&&n()(r,{city:r.country[1],province:r.country[0],district:r.country[2]}),delete r.country,t.detailsData.id?u.a.details_submitStore(r).then(function(a){e.$message({duration:1500,message:a.data.msg}),t.$router.push("/delivery/store")}):u.a.details_submitStoreAdd(r).then(function(a){1===a.data.code&&(e.$message({duration:1500,message:"保存成功！"}),t.$router.push("/delivery/store"))})})},goBack:function(){this.$router.go(-1)}},beforeRouteEnter:function(e,t,a){a(e.query&&e.query.id?function(t){t.storeType=!0,t.details_tableStore(e.query.id)}:function(e){e.storeType=!1})},watch:{"detailsData.longitude":function(){this.init()},"detailsData.latitude":function(){this.init()}}}},2037:function(e,t,a){t=e.exports=a(1830)(!0),t.push([e.i,".store-details{color:#666}.store-details .details-title{border-bottom:1px solid #ddd;padding:10px;font-size:24px}.store-details .content-body .base-info{background:#fff;color:#666;border-radius:5px;padding:20px}.store-details .content-body .base-info .person-map{width:100%;height:320px;border:1px solid #ddd;border-radius:5px}.store-details .el-form-item{margin-bottom:15px!important}","",{version:3,sources:["G:/Vue-demo/product/product/src/components/details/store.vue"],names:[],mappings:"AACA,eACE,UAAY,CACb,AACD,8BACI,6BAA8B,AAC9B,aAAc,AACd,cAAgB,CACnB,AACD,wCACI,gBAAiB,AACjB,WAAY,AACZ,kBAAmB,AACnB,YAAc,CACjB,AACD,oDACM,WAAY,AACZ,aAAc,AACd,sBAAuB,AACvB,iBAAmB,CACxB,AACD,6BACI,4BAA+B,CAClC",file:"store.vue",sourcesContent:["\n.store-details {\n  color: #666;\n}\n.store-details .details-title {\n    border-bottom: 1px #ddd solid;\n    padding: 10px;\n    font-size: 24px;\n}\n.store-details .content-body .base-info {\n    background: #fff;\n    color: #666;\n    border-radius: 5px;\n    padding: 20px;\n}\n.store-details .content-body .base-info .person-map {\n      width: 100%;\n      height: 320px;\n      border: 1px #ddd solid;\n      border-radius: 5px;\n}\n.store-details .el-form-item {\n    margin-bottom: 15px !important;\n}\n"],sourceRoot:""}])},2075:function(e,t,a){var r=a(2037);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);a(1831)("b09b9a6e",r,!0)},2125:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"store-details"},[a("div",{staticClass:"details-title"},[e._v("\n    "+e._s(e.handlerStoreType?"编辑门店":"新增门店")+"\n  ")]),e._v(" "),a("div",{staticClass:"details-content"},[a("div",{staticClass:"content-body"},[a("el-row",{attrs:{type:"flex",justify:"space-between"}},[a("el-col",{staticClass:"base-info",attrs:{span:24}},[a("el-form",{ref:"detailsDataForm",attrs:{model:e.detailsData,rules:e.rules,"label-width":"80px"}},[a("el-col",{attrs:{span:12}},[a("el-row",{attrs:{gutter:50}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{prop:"country",label:"地区:"}},[a("div",{staticClass:"country-select"},[a("el-cascader",{staticStyle:{width:"100%"},attrs:{options:e.handlerStoreAreaData,placeholder:"请选择地区",props:this.$store.state.select.defaultCountryProps},on:{change:e.handleChange},model:{value:e.detailsData.country,callback:function(t){e.detailsData.country=t},expression:"detailsData.country"}})],1)])],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{prop:"employeePrefix",label:"门店工号:"}},[a("el-input",{model:{value:e.detailsData.employeePrefix,callback:function(t){e.detailsData.employeePrefix=t},expression:"detailsData.employeePrefix"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:50}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{prop:"storeNo",label:"门店号:"}},[a("el-input",{attrs:{disabled:e.handlerStoreType},model:{value:e.detailsData.storeNo,callback:function(t){e.detailsData.storeNo=t},expression:"detailsData.storeNo"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{prop:"name",label:"门店名称:"}},[a("el-input",{model:{value:e.detailsData.name,callback:function(t){e.detailsData.name=t},expression:"detailsData.name"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:50}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{prop:"longitude",label:"经度:"}},[a("el-input",{model:{value:e.detailsData.longitude,callback:function(t){e.detailsData.longitude=t},expression:"detailsData.longitude"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{prop:"latitude",label:"纬度:"}},[a("el-input",{model:{value:e.detailsData.latitude,callback:function(t){e.detailsData.latitude=t},expression:"detailsData.latitude"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:50}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{prop:"contactPerson",label:"联系人:"}},[a("el-input",{model:{value:e.detailsData.contactPerson,callback:function(t){e.detailsData.contactPerson=t},expression:"detailsData.contactPerson"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{prop:"contact",label:"联系方式:"}},[a("el-input",{model:{value:e.detailsData.contact,callback:function(t){e.detailsData.contact=t},expression:"detailsData.contact"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{prop:"address",label:"地址:"}},[a("el-input",{staticStyle:{"margin-bottom":"10px"},model:{value:e.detailsData.address,callback:function(t){e.detailsData.address=t},expression:"detailsData.address"}})],1)],1)],1),e._v(" "),a("el-form-item",{attrs:{prop:"remark",label:"备注:"}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.detailsData.remark,callback:function(t){e.detailsData.remark=t},expression:"detailsData.remark"}})],1),e._v(" "),a("el-form-item",[a("el-row",{attrs:{gutter:10}},[a("el-button",{attrs:{type:"primary"},on:{click:e.details_SubmitStore}},[e._v("保存")]),e._v(" "),a("el-button",{on:{click:e.goBack}},[e._v("取消")])],1)],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-row",{attrs:{gutter:50}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{"label-width":"20px"}},[a("div",{staticClass:"person-map",attrs:{id:"container"}})])],1)],1)],1)],1)],1)],1)],1)])])},staticRenderFns:[]}}});
//# sourceMappingURL=15.e6d1e1b1061dc21c13d1.js.map