{"version":3,"sources":["webpack:///static/js/19.9059545ba070a6d755f9.js","webpack:///./src/components/manage-system/childrens/user.vue","webpack:///user.vue","webpack:///./src/components/manage-system/childrens/user.vue?b4a2","webpack:///./src/components/manage-system/childrens/user.vue?ae0b","webpack:///./src/components/manage-system/childrens/user.vue?5ade"],"names":["webpackJsonp","1863","module","exports","__webpack_require__","injectStyle","ssrContext","Component","2024","__webpack_exports__","Object","defineProperty","value","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default","n","__WEBPACK_IMPORTED_MODULE_1__api_table__","data","dialogTitle","employeeIdDisabled","tableData","roleList","defaultCheckedKeys","addUserForm","id","employeeId","realName","phone","remark","areaIds","roleIds","addUserIsShow","treeDialog","type","name","routerAuth","checkedValue","defaultProps","children","label","countryText","rules","required","message","trigger","treeDialog.checkedValue","computed","treeCountry","this","handlerCountryText","join","defaultCheckedData","tabHeight","$store","state","include","tableHeight","currentUserNo","localStorage","getItem","mounted","data_table","data_systemUserRoleList","methods","btn_auth","$btn","user","AUTHIDS","split","some","a","handleClose","done","$refs","resetFields","select","tree","setCheckedKeys","submitForm","self","getCheckedNodes","forEach","$item","$index","area","push","data_systemUserAll","then","response","code","dat","handler_dataTableLock","$row","$sta","_this","str","swal","title","showCancelButton","reverseButtons","confirmButtonColor","cancelButtonColor","confirmButtonText","cancelButtonText","edit_systemUserHandlerLock","userId","lock","$message","duration","handlerUserData_edit","_this2","get_allAreaAndStore","$nextTick","roleIdsArr","map","parseInt","areaIdsArr","handlerUserData_del","$id","_this3","data_systemUserDel","save_dataTable","_this4","resolve","validate","valid","getCheckedKeys","sort","b","data_systemUserSave","dispatch","recursiveArea","$keys","$checks","allarr","$key","$check","arr","length","_$check","_this5","_this6","fetch_allAreaAndStore","watch","this.addUserForm.addUserIsShow","2041","i","version","sources","names","mappings","file","sourcesContent","sourceRoot","2079","content","locals","2129","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","disabled","on","click","_v","ref","staticStyle","width","height","max-height","border","tooltip-effect","prop","align","show-overflow-tooltip","scopedSlots","_u","key","fn","scope","size","$event","row","isEnabled","_e","visible","before-close","update:visible","model","label-width","callback","$$v","expression","_l","val","_s","show-checkbox","node-key","default-expanded-keys","props","margin","text-align","staticRenderFns"],"mappings":"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","file":"static/js/19.9059545ba070a6d755f9.js","sourcesContent":["webpackJsonp([19],{\n\n/***/ 1863:\n/***/ (function(module, exports, __webpack_require__) {\n\nfunction injectStyle (ssrContext) {\n  __webpack_require__(2079)\n}\nvar Component = __webpack_require__(108)(\n  /* script */\n  __webpack_require__(2024),\n  /* template */\n  __webpack_require__(2129),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 2024:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise__ = __webpack_require__(125);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__api_table__ = __webpack_require__(387);\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  data: function data() {\n    return {\n      dialogTitle: '新增用户',\n      employeeIdDisabled: false,\n      tableData: [],\n      roleList: [],\n      defaultCheckedKeys: [],\n      addUserForm: {\n        id: '',\n        employeeId: '',\n        realName: '',\n        phone: '',\n        remark: '',\n        areaIds: [],\n        roleIds: [],\n        addUserIsShow: false,\n        treeDialog: {\n          type: false,\n          name: '',\n          routerAuth: [],\n          checkedValue: []\n        }\n      },\n      defaultProps: {\n        children: 'children',\n        label: 'label'\n      },\n      countryText: [],\n      rules: {\n        employeeId: [{ required: true, message: '请输入工号', trigger: 'blur' }],\n        realName: [{ required: true, message: '请输入姓名', trigger: 'blur' }],\n        phone: [{ required: true, message: '请输入联系方式', trigger: 'blur' }],\n        remark: [{ required: true, message: '请输入备注', trigger: 'blur' }],\n        roleIds: [{ type: 'array', required: true, message: '请选择角色', trigger: 'blur' }],\n        'treeDialog.checkedValue': [{ type: 'array', required: true, message: '请选择区域', trigger: 'change' }]\n      }\n    };\n  },\n\n  computed: {\n    treeCountry: function treeCountry() {\n      return this.addUserForm.treeDialog.routerAuth;\n    },\n    handlerCountryText: function handlerCountryText() {\n      return this.countryText.join('/');\n    },\n    defaultCheckedData: function defaultCheckedData() {\n      return this.defaultCheckedKeys;\n    },\n    tabHeight: function tabHeight() {\n      return this.$store.state.include.tableHeight - 255;\n    },\n    currentUserNo: function currentUserNo() {\n      return localStorage.getItem('ms_username');\n    }\n  },\n  mounted: function mounted() {\n    this.data_table();\n    this.data_systemUserRoleList();\n  },\n\n  methods: {\n    btn_auth: function btn_auth($btn) {\n      return this.$store.state.user.AUTHIDS.split(',').some(function (a) {\n        return a === $btn;\n      });\n    },\n    handleClose: function handleClose(done) {\n      this.addUserForm.id = '';\n      this.addUserForm.employeeId = '';\n      this.addUserForm.realName = '';\n      this.addUserForm.phone = '';\n      this.addUserForm.remark = '';\n      this.addUserForm.roleIds = [];\n      this.addUserForm.addUserIsShow = false;\n      this.$refs['addUserForm'].resetFields();\n      this.addUserForm.treeDialog = {\n        type: false,\n        name: '',\n        routerAuth: this.$store.state.select.treeCountry\n      };\n      this.$refs.tree.setCheckedKeys([]);\n    },\n    submitForm: function submitForm() {\n      var self = this;\n      var data = this.$refs.tree.getCheckedNodes();\n      data.forEach(function ($item, $index) {\n        self.addUserForm.area.push($item.id);\n      });\n    },\n    data_table: function data_table() {\n      var self = this;\n      __WEBPACK_IMPORTED_MODULE_1__api_table__[\"a\" /* default */].data_systemUserAll().then(function (response) {\n        if (response.data.code === 1) {\n          self.tableData = response.data.dat;\n        }\n      });\n    },\n    handler_dataTableLock: function handler_dataTableLock($row, $sta) {\n      var _this = this;\n\n      var str = $sta === 1 ? '你确定解冻该用户?' : '你确定冻结该用户?';\n      swal({\n        title: str,\n        type: 'warning',\n        showCancelButton: true,\n        reverseButtons: true,\n        confirmButtonColor: '#3085d6',\n        cancelButtonColor: '#d33',\n        confirmButtonText: '确定',\n        cancelButtonText: '取消'\n      }).then(function () {\n        __WEBPACK_IMPORTED_MODULE_1__api_table__[\"a\" /* default */].edit_systemUserHandlerLock({\n          userId: $row.id,\n          lock: $sta\n        }).then(function (response) {\n          if (response.data.code === 1) {\n            _this.data_table();\n            _this.$message({\n              duration: 1500,\n              message: '操作成功！'\n            });\n          }\n        });\n      }, function () {});\n    },\n    handlerUserData_edit: function handlerUserData_edit($row) {\n      var _this2 = this;\n\n      this.addUserForm.addUserIsShow = true;\n      this.get_allAreaAndStore();\n      var self = this;\n      self.$nextTick(function () {\n        if ($row.id) {\n          self.dialogTitle = '编辑用户';\n          self.employeeIdDisabled = true;\n          var roleIdsArr = $row.roleIds.split(',').map(function ($item) {\n            return parseInt($item);\n          });\n          var areaIdsArr = $row.areaIds.split('-').map(function ($item) {\n            return parseInt($item);\n          });\n          _this2.$refs.tree.setCheckedKeys(areaIdsArr);\n          _this2.defaultCheckedKeys = areaIdsArr;\n          _this2.addUserForm.id = $row.id;\n          _this2.addUserForm.employeeId = $row.employeeId;\n          _this2.addUserForm.realName = $row.realName;\n          _this2.addUserForm.phone = $row.phone;\n          _this2.addUserForm.remark = $row.remark;\n          _this2.addUserForm.roleIds = roleIdsArr;\n        } else {\n          self.dialogTitle = '新增用户';\n          self.employeeIdDisabled = false;\n          self.$refs.tree.setCheckedKeys([]);\n        }\n      });\n    },\n    handlerUserData_del: function handlerUserData_del($id) {\n      var _this3 = this;\n\n      swal({\n        title: '你确定要删除该用户?',\n        type: 'warning',\n        showCancelButton: true,\n        reverseButtons: true,\n        confirmButtonColor: '#3085d6',\n        cancelButtonColor: '#d33',\n        confirmButtonText: '确定',\n        cancelButtonText: '取消'\n      }).then(function () {\n        __WEBPACK_IMPORTED_MODULE_1__api_table__[\"a\" /* default */].data_systemUserDel({\n          userId: $id\n        }).then(function (response) {\n          if (response.data.code === 1) {\n            _this3.data_table();\n            _this3.$message({\n              duration: 1500,\n              message: '操作成功！'\n            });\n          }\n        });\n      }, function () {});\n    },\n    save_dataTable: function save_dataTable() {\n      var _this4 = this;\n\n      new __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default.a(function (resolve) {\n        _this4.addUserForm.treeDialog.checkedValue = _this4.$refs.tree.getCheckedNodes();\n        resolve();\n      }).then(function (resolve) {\n        _this4.$refs['addUserForm'].validate(function (valid) {\n          if (valid) {\n            var roleIds = _this4.$refs.tree.getCheckedKeys().sort(function (a, b) {\n              return a - b;\n            });\n            __WEBPACK_IMPORTED_MODULE_1__api_table__[\"a\" /* default */].data_systemUserSave({\n              id: _this4.addUserForm.id,\n              employeeId: _this4.addUserForm.employeeId,\n              realName: _this4.addUserForm.realName,\n              phone: _this4.addUserForm.phone,\n              remark: _this4.addUserForm.remark,\n              areaIds: roleIds.join(','),\n              roleIds: _this4.addUserForm.roleIds.join(',')\n            }).then(function (response) {\n              _this4.$store.dispatch('fetch_allAreaAndStore');\n              if (response.data.code === 1) {\n                _this4.data_table();\n                _this4.handleClose();\n                _this4.$message({\n                  duration: 1500,\n                  message: '操作成功！'\n                });\n              }\n            });\n          } else {\n            return false;\n          }\n        });\n      });\n    },\n    recursiveArea: function recursiveArea($keys, $checks) {\n      var allarr = [];\n      $keys.forEach(function ($key) {\n        $checks.forEach(function ($check) {\n          var arr = '';\n\n          arr += $check.id + '-';\n          if ($check.children && $check.children.length > 0) {\n            $check.children.forEach(function (_$check) {\n              arr += _$check.id + '-';\n            });\n          } else {\n            allarr.push(arr);\n          }\n        });\n      });\n    },\n    data_systemUserRoleList: function data_systemUserRoleList() {\n      var _this5 = this;\n\n      __WEBPACK_IMPORTED_MODULE_1__api_table__[\"a\" /* default */].data_systemUserRoleList().then(function (response) {\n        if (response.data.code === 1) {\n          _this5.roleList = response.data.dat;\n        }\n      });\n    },\n    get_allAreaAndStore: function get_allAreaAndStore() {\n      var _this6 = this;\n\n      return new __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default.a(function (resolve) {\n        __WEBPACK_IMPORTED_MODULE_1__api_table__[\"a\" /* default */].fetch_allAreaAndStore().then(function (response) {\n          if (response.data.code === 1) {\n            _this6.addUserForm.treeDialog.routerAuth = response.data.dat;\n            resolve();\n          }\n        });\n      });\n    }\n  },\n  watch: {\n    'this.addUserForm.addUserIsShow': function thisAddUserFormAddUserIsShow() {\n      if (this.addUserForm.addUserIsShow) {\n        this.get_allAreaAndStore();\n      }\n    }\n  }\n});\n\n/***/ }),\n\n/***/ 2041:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1830)(true);\n// imports\n\n\n// module\nexports.push([module.i, \".view-user .user-group{margin-bottom:20px}.view-user .area-box .el-tree{height:200px;overflow-y:auto;border:1px solid #ddd;border-radius:4px}\", \"\", {\"version\":3,\"sources\":[\"D:/www.github.com/product/product/src/components/manage-system/childrens/user.vue\"],\"names\":[],\"mappings\":\"AACA,uBACE,kBAAoB,CACrB,AACD,8BACE,aAAc,AACd,gBAAiB,AACjB,sBAAuB,AACvB,iBAAmB,CACpB\",\"file\":\"user.vue\",\"sourcesContent\":[\"\\n.view-user .user-group {\\n  margin-bottom: 20px;\\n}\\n.view-user .area-box .el-tree {\\n  height: 200px;\\n  overflow-y: auto;\\n  border: 1px #ddd solid;\\n  border-radius: 4px;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 2079:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(2041);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(1831)(\"01855cd2\", content, true);\n\n/***/ }),\n\n/***/ 2129:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"view-user\"\n  }, [_c('div', {\n    staticClass: \"user-group\"\n  }, [_c('el-button', {\n    attrs: {\n      \"disabled\": !_vm.btn_auth('b_yh_xzyh')\n    },\n    on: {\n      \"click\": _vm.handlerUserData_edit\n    }\n  }, [_vm._v(\"新增用户\")])], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"system-user-table\"\n  }, [_c('el-table', {\n    ref: \"multipleTable\",\n    staticStyle: {\n      \"width\": \"100%\"\n    },\n    attrs: {\n      \"data\": _vm.tableData,\n      \"height\": _vm.tabHeight,\n      \"max-height\": _vm.tabHeight,\n      \"border\": \"\",\n      \"tooltip-effect\": \"dark\"\n    }\n  }, [_c('el-table-column', {\n    attrs: {\n      \"prop\": \"employeeId\",\n      \"align\": \"center\",\n      \"label\": \"员工号\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"prop\": \"realName\",\n      \"align\": \"center\",\n      \"label\": \"姓名\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"prop\": \"phone\",\n      \"align\": \"center\",\n      \"label\": \"联系方式\",\n      \"show-overflow-tooltip\": \"\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"prop\": \"roleNames\",\n      \"align\": \"center\",\n      \"label\": \"角色\",\n      \"show-overflow-tooltip\": \"\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"prop\": \"remark\",\n      \"align\": \"center\",\n      \"label\": \"备注\",\n      \"show-overflow-tooltip\": \"\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"label\": \"操作\",\n      \"align\": \"center\"\n    },\n    scopedSlots: _vm._u([{\n      key: \"default\",\n      fn: function(scope) {\n        return [_c('el-button', {\n          attrs: {\n            \"type\": \"text\",\n            \"size\": \"small\"\n          },\n          on: {\n            \"click\": function($event) {\n              _vm.handlerUserData_edit(scope.row)\n            }\n          }\n        }, [_vm._v(\"编辑\")]), _vm._v(\" \"), (scope.row.isEnabled === 1) ? _c('el-button', {\n          attrs: {\n            \"type\": \"text\",\n            \"size\": \"small\"\n          },\n          on: {\n            \"click\": function($event) {\n              _vm.handler_dataTableLock(scope.row, 1)\n            }\n          }\n        }, [_vm._v(\"冻结\")]) : _vm._e(), _vm._v(\" \"), (scope.row.isEnabled === 0) ? _c('el-button', {\n          attrs: {\n            \"type\": \"text\",\n            \"size\": \"small\"\n          },\n          on: {\n            \"click\": function($event) {\n              _vm.handler_dataTableLock(scope.row, 0)\n            }\n          }\n        }, [_vm._v(\"解冻\")]) : _vm._e(), _vm._v(\" \"), _c('el-button', {\n          attrs: {\n            \"type\": \"text\",\n            \"size\": \"small\"\n          },\n          on: {\n            \"click\": function($event) {\n              _vm.handlerUserData_del(scope.row.id)\n            }\n          }\n        }, [_vm._v(\"删除\")])]\n      }\n    }])\n  })], 1)], 1), _vm._v(\" \"), _c('el-dialog', {\n    attrs: {\n      \"title\": _vm.dialogTitle,\n      \"visible\": _vm.addUserForm.addUserIsShow,\n      \"size\": \"small\",\n      \"before-close\": _vm.handleClose\n    },\n    on: {\n      \"update:visible\": function($event) {\n        _vm.addUserForm.addUserIsShow = $event\n      }\n    }\n  }, [_c('el-form', {\n    ref: \"addUserForm\",\n    attrs: {\n      \"model\": _vm.addUserForm,\n      \"rules\": _vm.rules,\n      \"label-width\": \"80px\"\n    }\n  }, [_c('el-form-item', {\n    attrs: {\n      \"label\": \"工号: \",\n      \"prop\": \"employeeId\"\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"disabled\": _vm.employeeIdDisabled\n    },\n    model: {\n      value: (_vm.addUserForm.employeeId),\n      callback: function($$v) {\n        _vm.addUserForm.employeeId = $$v\n      },\n      expression: \"addUserForm.employeeId\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"姓名: \",\n      \"prop\": \"realName\"\n    }\n  }, [_c('el-input', {\n    model: {\n      value: (_vm.addUserForm.realName),\n      callback: function($$v) {\n        _vm.addUserForm.realName = $$v\n      },\n      expression: \"addUserForm.realName\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"手机号: \",\n      \"prop\": \"phone\"\n    }\n  }, [_c('el-input', {\n    model: {\n      value: (_vm.addUserForm.phone),\n      callback: function($$v) {\n        _vm.addUserForm.phone = $$v\n      },\n      expression: \"addUserForm.phone\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"备注\",\n      \"prop\": \"remark\"\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"type\": \"textarea\"\n    },\n    model: {\n      value: (_vm.addUserForm.remark),\n      callback: function($$v) {\n        _vm.addUserForm.remark = $$v\n      },\n      expression: \"addUserForm.remark\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"角色: \",\n      \"prop\": \"roleIds\"\n    }\n  }, [_c('el-checkbox-group', {\n    model: {\n      value: (_vm.addUserForm.roleIds),\n      callback: function($$v) {\n        _vm.addUserForm.roleIds = $$v\n      },\n      expression: \"addUserForm.roleIds\"\n    }\n  }, _vm._l((_vm.roleList), function($item, $index) {\n    return _c('el-checkbox', {\n      key: $index,\n      attrs: {\n        \"label\": $item.val,\n        \"name\": \"roleList\"\n      }\n    }, [_vm._v(_vm._s($item.label))])\n  }))], 1), _vm._v(\" \"), _c('el-form-item', {\n    staticClass: \"area-box\",\n    attrs: {\n      \"label\": \"选择区域: \",\n      \"prop\": \"treeDialog.checkedValue\"\n    }\n  }, [_c('el-tree', {\n    ref: \"tree\",\n    attrs: {\n      \"data\": this.treeCountry,\n      \"show-checkbox\": \"\",\n      \"node-key\": \"id\",\n      \"default-expanded-keys\": _vm.defaultCheckedData,\n      \"props\": _vm.defaultProps\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    staticStyle: {\n      \"margin\": \"0\",\n      \"text-align\": \"right\"\n    }\n  }, [_c('el-button', {\n    on: {\n      \"click\": _vm.handleClose\n    }\n  }, [_vm._v(\"取消\")]), _vm._v(\" \"), _c('el-button', {\n    attrs: {\n      \"type\": \"primary\"\n    },\n    on: {\n      \"click\": _vm.save_dataTable\n    }\n  }, [_vm._v(\"确定\")])], 1)], 1)], 1)], 1)\n},staticRenderFns: []}\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/19.9059545ba070a6d755f9.js","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-373543e4\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./user.vue\")\n}\nvar Component = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./user.vue\"),\n  /* template */\n  require(\"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-373543e4\\\",\\\"hasScoped\\\":false}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./user.vue\"),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/manage-system/childrens/user.vue\n// module id = 1863\n// module chunks = 19","<template>\r\n  <div class=\"view-user\">\r\n    <div class=\"user-group\">\r\n      <el-button :disabled=\"!btn_auth('b_yh_xzyh')\" @click=\"handlerUserData_edit\">新增用户</el-button>\r\n    </div>\r\n    <div class=\"system-user-table\">\r\n      <el-table\r\n        ref=\"multipleTable\"\r\n        :data=\"tableData\"\r\n        :height=\"tabHeight\"\r\n        :max-height=\"tabHeight\"\r\n        border\r\n        tooltip-effect=\"dark\"\r\n        style=\"width: 100%\">\r\n        <el-table-column\r\n          prop=\"employeeId\"\r\n          align=\"center\"\r\n          label=\"员工号\">\r\n        </el-table-column>\r\n        <el-table-column\r\n          prop=\"realName\"\r\n          align=\"center\"\r\n          label=\"姓名\">\r\n        </el-table-column>\r\n        <el-table-column\r\n          prop=\"phone\"\r\n          align=\"center\"\r\n          label=\"联系方式\"\r\n          show-overflow-tooltip>\r\n        </el-table-column>\r\n        <el-table-column\r\n          prop=\"roleNames\"\r\n          align=\"center\"\r\n          label=\"角色\"\r\n          show-overflow-tooltip>\r\n        </el-table-column>\r\n        <el-table-column\r\n          prop=\"remark\"\r\n          align=\"center\"\r\n          label=\"备注\"\r\n          show-overflow-tooltip>\r\n        </el-table-column>\r\n        <el-table-column label=\"操作\"\r\n                         align=\"center\">\r\n          <template scope=\"scope\">\r\n            <el-button\r\n              type=\"text\"\r\n              size=\"small\"\r\n              @click=\"handlerUserData_edit(scope.row)\"\r\n            >编辑</el-button>\r\n            <el-button\r\n              type=\"text\"\r\n              size=\"small\"\r\n              v-if=\"scope.row.isEnabled === 1\"\r\n              @click=\"handler_dataTableLock(scope.row, 1)\"\r\n            >冻结</el-button>\r\n            <el-button\r\n              type=\"text\"\r\n              size=\"small\"\r\n              v-if=\"scope.row.isEnabled === 0\"\r\n              @click=\"handler_dataTableLock(scope.row, 0)\"\r\n            >解冻</el-button>\r\n            <el-button\r\n              type=\"text\"\r\n              size=\"small\"\r\n              @click=\"handlerUserData_del(scope.row.id)\"\r\n            >删除</el-button>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n    </div>\r\n    <el-dialog\r\n      :title=\"dialogTitle\"\r\n      :visible.sync=\"addUserForm.addUserIsShow\"\r\n      size=\"small\"\r\n      :before-close=\"handleClose\">\r\n      <el-form\r\n        :model=\"addUserForm\"\r\n        ref=\"addUserForm\"\r\n        :rules=\"rules\"\r\n        label-width=\"80px\">\r\n        <el-form-item\r\n          label=\"工号: \"\r\n          prop=\"employeeId\">\r\n          <el-input v-model=\"addUserForm.employeeId\" :disabled=\"employeeIdDisabled\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"姓名: \"\r\n                      prop=\"realName\">\r\n          <el-input v-model=\"addUserForm.realName\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"手机号: \"\r\n                      prop=\"phone\">\r\n          <el-input v-model=\"addUserForm.phone\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"备注\"\r\n                      prop=\"remark\">\r\n          <el-input type=\"textarea\" v-model=\"addUserForm.remark\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"角色: \"\r\n                      prop=\"roleIds\">\r\n          <el-checkbox-group v-model=\"addUserForm.roleIds\">\r\n            <el-checkbox v-for=\"($item, $index) in roleList\"\r\n                         :key=\"$index\"\r\n                         :label=\"$item.val\"\r\n                         name=\"roleList\">{{$item.label}}</el-checkbox>\r\n          </el-checkbox-group>\r\n        </el-form-item>\r\n        <el-form-item label=\"选择区域: \"\r\n                      prop=\"treeDialog.checkedValue\"\r\n                      class=\"area-box\">\r\n          <el-tree\r\n            :data=\"this.treeCountry\"\r\n            show-checkbox\r\n            node-key=\"id\"\r\n            ref=\"tree\"\r\n            :default-expanded-keys=\"defaultCheckedData\"\r\n            :props=\"defaultProps\">\r\n          </el-tree>\r\n        </el-form-item>\r\n        <el-form-item style=\"margin: 0; text-align: right;\">\r\n          <el-button @click=\"handleClose\">取消</el-button>\r\n          <el-button type=\"primary\" @click=\"save_dataTable\">确定</el-button>\r\n        </el-form-item>\r\n      </el-form>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import apiTable from '@/api/table'\r\n  export default {\r\n    data () {\r\n      return {\r\n        dialogTitle: '新增用户',\r\n        employeeIdDisabled: false,\r\n        tableData: [],\r\n        roleList: [],\r\n        defaultCheckedKeys: [],\r\n        addUserForm: {\r\n          id: '',\r\n          employeeId: '',\r\n          realName: '',\r\n          phone: '',\r\n          remark: '',\r\n          areaIds: [],\r\n          roleIds: [],\r\n          addUserIsShow: false,\r\n          treeDialog: {\r\n            type: false,\r\n            name: '',\r\n            routerAuth: [],\r\n            checkedValue: []\r\n          }\r\n        },\r\n        defaultProps: {\r\n          children: 'children',\r\n          label: 'label'\r\n        },\r\n        countryText: [],\r\n        rules: {\r\n          employeeId: [\r\n            { required: true, message: '请输入工号', trigger: 'blur' }\r\n          ],\r\n          realName: [\r\n            { required: true, message: '请输入姓名', trigger: 'blur' }\r\n          ],\r\n          phone: [\r\n            { required: true, message: '请输入联系方式', trigger: 'blur' }\r\n          ],\r\n          remark: [\r\n            { required: true, message: '请输入备注', trigger: 'blur' }\r\n          ],\r\n          roleIds: [\r\n            { type: 'array', required: true, message: '请选择角色', trigger: 'blur' }\r\n          ],\r\n          'treeDialog.checkedValue': [\r\n            { type: 'array', required: true, message: '请选择区域', trigger: 'change' }\r\n          ]\r\n        }\r\n      }\r\n    },\r\n    computed: {\r\n      treeCountry () {\r\n        return this.addUserForm.treeDialog.routerAuth\r\n      },\r\n      handlerCountryText () {\r\n        return this.countryText.join('/')\r\n      },\r\n      defaultCheckedData () {\r\n        return this.defaultCheckedKeys\r\n      },\r\n      tabHeight () {\r\n        return this.$store.state.include.tableHeight - 255\r\n      },\r\n      currentUserNo () {\r\n        return localStorage.getItem('ms_username')\r\n      }\r\n    },\r\n    mounted () {\r\n      this.data_table()\r\n      this.data_systemUserRoleList()\r\n    },\r\n    methods: {\r\n      btn_auth ($btn) {\r\n        return this.$store.state.user.AUTHIDS.split(',').some(a => {\r\n          return a === $btn\r\n        })\r\n      },\r\n      handleClose (done) {\r\n        this.addUserForm.id = ''\r\n        this.addUserForm.employeeId = ''\r\n        this.addUserForm.realName = ''\r\n        this.addUserForm.phone = ''\r\n        this.addUserForm.remark = ''\r\n        this.addUserForm.roleIds = []\r\n        this.addUserForm.addUserIsShow = false\r\n        this.$refs['addUserForm'].resetFields()\r\n        this.addUserForm.treeDialog = {\r\n          type: false,\r\n          name: '',\r\n          routerAuth: this.$store.state.select.treeCountry\r\n        }\r\n        this.$refs.tree.setCheckedKeys([])\r\n      },\r\n      submitForm () {\r\n        let self = this\r\n        let data = this.$refs.tree.getCheckedNodes()\r\n        data.forEach(function ($item, $index) {\r\n          self.addUserForm.area.push($item.id)\r\n        })\r\n      },\r\n      data_table () {\r\n        let self = this\r\n        apiTable.data_systemUserAll().then((response) => {\r\n          if (response.data.code === 1) {\r\n            self.tableData = response.data.dat\r\n          }\r\n        })\r\n      },\r\n      handler_dataTableLock ($row, $sta) {\r\n        let str = $sta === 1 ? '你确定解冻该用户?' : '你确定冻结该用户?'\r\n        swal({\r\n          title: str,\r\n          type: 'warning',\r\n          showCancelButton: true,\r\n          reverseButtons: true,\r\n          confirmButtonColor: '#3085d6',\r\n          cancelButtonColor: '#d33',\r\n          confirmButtonText: '确定',\r\n          cancelButtonText: '取消'\r\n        }).then(() => {\r\n          apiTable.edit_systemUserHandlerLock({\r\n            userId: $row.id,\r\n            lock: $sta\r\n          }).then((response) => {\r\n            if (response.data.code === 1) {\r\n              this.data_table()\r\n              this.$message({\r\n                duration: 1500,\r\n                message: '操作成功！'\r\n              })\r\n            }\r\n          })\r\n        }, () => {\r\n\r\n        })\r\n      },\r\n      handlerUserData_edit ($row) {\r\n        this.addUserForm.addUserIsShow = true\r\n        this.get_allAreaAndStore()\r\n        let self = this\r\n        self.$nextTick(() => {\r\n          if ($row.id) {\r\n            self.dialogTitle = '编辑用户'\r\n            self.employeeIdDisabled = true\r\n            let roleIdsArr = $row.roleIds.split(',').map(($item) => {\r\n              return parseInt($item)\r\n            })\r\n            let areaIdsArr = $row.areaIds.split('-').map(($item) => {\r\n              return parseInt($item)\r\n            })\r\n            this.$refs.tree.setCheckedKeys(areaIdsArr)\r\n            this.defaultCheckedKeys = areaIdsArr\r\n            this.addUserForm.id = $row.id\r\n            this.addUserForm.employeeId = $row.employeeId\r\n            this.addUserForm.realName = $row.realName\r\n            this.addUserForm.phone = $row.phone\r\n            this.addUserForm.remark = $row.remark\r\n            this.addUserForm.roleIds = roleIdsArr\r\n          } else {\r\n            self.dialogTitle = '新增用户'\r\n            self.employeeIdDisabled = false\r\n            self.$refs.tree.setCheckedKeys([])\r\n          }\r\n        })\r\n      },\r\n      handlerUserData_del ($id) {\r\n        swal({\r\n          title: '你确定要删除该用户?',\r\n          type: 'warning',\r\n          showCancelButton: true,\r\n          reverseButtons: true,\r\n          confirmButtonColor: '#3085d6',\r\n          cancelButtonColor: '#d33',\r\n          confirmButtonText: '确定',\r\n          cancelButtonText: '取消'\r\n        }).then(() => {\r\n          apiTable.data_systemUserDel({\r\n            userId: $id\r\n          }).then((response) => {\r\n            if (response.data.code === 1) {\r\n              this.data_table()\r\n              this.$message({\r\n                duration: 1500,\r\n                message: '操作成功！'\r\n              })\r\n            }\r\n          })\r\n        }, () => {\r\n\r\n        })\r\n      },\r\n      save_dataTable () {\r\n        new Promise(resolve => {\r\n          this.addUserForm.treeDialog.checkedValue = this.$refs.tree.getCheckedNodes()\r\n          resolve()\r\n        }).then((resolve) => {\r\n          this.$refs['addUserForm'].validate((valid) => {\r\n            if (valid) {\r\n              let roleIds = this.$refs.tree.getCheckedKeys().sort((a, b) => {\r\n                return a - b\r\n              })\r\n              apiTable.data_systemUserSave({\r\n                id: this.addUserForm.id,\r\n                employeeId: this.addUserForm.employeeId,\r\n                realName: this.addUserForm.realName,\r\n                phone: this.addUserForm.phone,\r\n                remark: this.addUserForm.remark,\r\n                areaIds: roleIds.join(','),\r\n                roleIds: this.addUserForm.roleIds.join(',')\r\n              }).then((response) => {\r\n                this.$store.dispatch('fetch_allAreaAndStore')\r\n                if (response.data.code === 1) {\r\n                  this.data_table()\r\n                  this.handleClose()\r\n                  this.$message({\r\n                    duration: 1500,\r\n                    message: '操作成功！'\r\n                  })\r\n                }\r\n              })\r\n            } else {\r\n              return false\r\n            }\r\n          })\r\n        })\r\n      },\r\n      // 递归区域\r\n      recursiveArea ($keys, $checks) {\r\n        let allarr = []\r\n        $keys.forEach(($key) => {\r\n          $checks.forEach(($check) => {\r\n            let arr = ''\r\n\r\n            arr += $check.id + '-'\r\n            if ($check.children && $check.children.length > 0) {\r\n              $check.children.forEach((_$check) => {\r\n                arr += _$check.id + '-'\r\n              })\r\n            } else {\r\n              allarr.push(arr)\r\n            }\r\n          })\r\n        })\r\n      },\r\n      data_systemUserRoleList () {\r\n        apiTable.data_systemUserRoleList().then((response) => {\r\n          if (response.data.code === 1) {\r\n            this.roleList = response.data.dat\r\n          }\r\n        })\r\n      },\r\n      get_allAreaAndStore () {\r\n        return new Promise(resolve => {\r\n          apiTable.fetch_allAreaAndStore().then((response) => {\r\n            if (response.data.code === 1) {\r\n              this.addUserForm.treeDialog.routerAuth = response.data.dat\r\n              resolve()\r\n            }\r\n          })\r\n        })\r\n      }\r\n    },\r\n    watch: {\r\n      'this.addUserForm.addUserIsShow' () {\r\n        if (this.addUserForm.addUserIsShow) {\r\n          this.get_allAreaAndStore()\r\n        }\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style lang=\"scss\" type=\"text/scss\">\r\n  .view-user{\r\n    .user-group{\r\n      margin-bottom: 20px;\r\n    }\r\n    .area-box{\r\n      .el-tree{\r\n        height: 200px;\r\n        overflow-y: auto;\r\n        border: 1px #ddd solid;\r\n        border-radius: 4px;\r\n      }\r\n    }\r\n  }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// user.vue?102d8a98","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \".view-user .user-group{margin-bottom:20px}.view-user .area-box .el-tree{height:200px;overflow-y:auto;border:1px solid #ddd;border-radius:4px}\", \"\", {\"version\":3,\"sources\":[\"D:/www.github.com/product/product/src/components/manage-system/childrens/user.vue\"],\"names\":[],\"mappings\":\"AACA,uBACE,kBAAoB,CACrB,AACD,8BACE,aAAc,AACd,gBAAiB,AACjB,sBAAuB,AACvB,iBAAmB,CACpB\",\"file\":\"user.vue\",\"sourcesContent\":[\"\\n.view-user .user-group {\\n  margin-bottom: 20px;\\n}\\n.view-user .area-box .el-tree {\\n  height: 200px;\\n  overflow-y: auto;\\n  border: 1px #ddd solid;\\n  border-radius: 4px;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-373543e4\",\"scoped\":false,\"hasInlineConfig\":false}!./~/sass-loader/lib/loader.js?{\"sourceMap\":true}!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/components/manage-system/childrens/user.vue\n// module id = 2041\n// module chunks = 19","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/index.js?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-373543e4\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../../node_modules/sass-loader/lib/loader.js?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./user.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"01855cd2\", content, true);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/extract-text-webpack-plugin/loader.js?{\"omit\":1,\"remove\":true}!./~/vue-style-loader!./~/css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-373543e4\",\"scoped\":false,\"hasInlineConfig\":false}!./~/sass-loader/lib/loader.js?{\"sourceMap\":true}!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/components/manage-system/childrens/user.vue\n// module id = 2079\n// module chunks = 19","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"view-user\"\n  }, [_c('div', {\n    staticClass: \"user-group\"\n  }, [_c('el-button', {\n    attrs: {\n      \"disabled\": !_vm.btn_auth('b_yh_xzyh')\n    },\n    on: {\n      \"click\": _vm.handlerUserData_edit\n    }\n  }, [_vm._v(\"新增用户\")])], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"system-user-table\"\n  }, [_c('el-table', {\n    ref: \"multipleTable\",\n    staticStyle: {\n      \"width\": \"100%\"\n    },\n    attrs: {\n      \"data\": _vm.tableData,\n      \"height\": _vm.tabHeight,\n      \"max-height\": _vm.tabHeight,\n      \"border\": \"\",\n      \"tooltip-effect\": \"dark\"\n    }\n  }, [_c('el-table-column', {\n    attrs: {\n      \"prop\": \"employeeId\",\n      \"align\": \"center\",\n      \"label\": \"员工号\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"prop\": \"realName\",\n      \"align\": \"center\",\n      \"label\": \"姓名\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"prop\": \"phone\",\n      \"align\": \"center\",\n      \"label\": \"联系方式\",\n      \"show-overflow-tooltip\": \"\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"prop\": \"roleNames\",\n      \"align\": \"center\",\n      \"label\": \"角色\",\n      \"show-overflow-tooltip\": \"\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"prop\": \"remark\",\n      \"align\": \"center\",\n      \"label\": \"备注\",\n      \"show-overflow-tooltip\": \"\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"label\": \"操作\",\n      \"align\": \"center\"\n    },\n    scopedSlots: _vm._u([{\n      key: \"default\",\n      fn: function(scope) {\n        return [_c('el-button', {\n          attrs: {\n            \"type\": \"text\",\n            \"size\": \"small\"\n          },\n          on: {\n            \"click\": function($event) {\n              _vm.handlerUserData_edit(scope.row)\n            }\n          }\n        }, [_vm._v(\"编辑\")]), _vm._v(\" \"), (scope.row.isEnabled === 1) ? _c('el-button', {\n          attrs: {\n            \"type\": \"text\",\n            \"size\": \"small\"\n          },\n          on: {\n            \"click\": function($event) {\n              _vm.handler_dataTableLock(scope.row, 1)\n            }\n          }\n        }, [_vm._v(\"冻结\")]) : _vm._e(), _vm._v(\" \"), (scope.row.isEnabled === 0) ? _c('el-button', {\n          attrs: {\n            \"type\": \"text\",\n            \"size\": \"small\"\n          },\n          on: {\n            \"click\": function($event) {\n              _vm.handler_dataTableLock(scope.row, 0)\n            }\n          }\n        }, [_vm._v(\"解冻\")]) : _vm._e(), _vm._v(\" \"), _c('el-button', {\n          attrs: {\n            \"type\": \"text\",\n            \"size\": \"small\"\n          },\n          on: {\n            \"click\": function($event) {\n              _vm.handlerUserData_del(scope.row.id)\n            }\n          }\n        }, [_vm._v(\"删除\")])]\n      }\n    }])\n  })], 1)], 1), _vm._v(\" \"), _c('el-dialog', {\n    attrs: {\n      \"title\": _vm.dialogTitle,\n      \"visible\": _vm.addUserForm.addUserIsShow,\n      \"size\": \"small\",\n      \"before-close\": _vm.handleClose\n    },\n    on: {\n      \"update:visible\": function($event) {\n        _vm.addUserForm.addUserIsShow = $event\n      }\n    }\n  }, [_c('el-form', {\n    ref: \"addUserForm\",\n    attrs: {\n      \"model\": _vm.addUserForm,\n      \"rules\": _vm.rules,\n      \"label-width\": \"80px\"\n    }\n  }, [_c('el-form-item', {\n    attrs: {\n      \"label\": \"工号: \",\n      \"prop\": \"employeeId\"\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"disabled\": _vm.employeeIdDisabled\n    },\n    model: {\n      value: (_vm.addUserForm.employeeId),\n      callback: function($$v) {\n        _vm.addUserForm.employeeId = $$v\n      },\n      expression: \"addUserForm.employeeId\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"姓名: \",\n      \"prop\": \"realName\"\n    }\n  }, [_c('el-input', {\n    model: {\n      value: (_vm.addUserForm.realName),\n      callback: function($$v) {\n        _vm.addUserForm.realName = $$v\n      },\n      expression: \"addUserForm.realName\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"手机号: \",\n      \"prop\": \"phone\"\n    }\n  }, [_c('el-input', {\n    model: {\n      value: (_vm.addUserForm.phone),\n      callback: function($$v) {\n        _vm.addUserForm.phone = $$v\n      },\n      expression: \"addUserForm.phone\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"备注\",\n      \"prop\": \"remark\"\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"type\": \"textarea\"\n    },\n    model: {\n      value: (_vm.addUserForm.remark),\n      callback: function($$v) {\n        _vm.addUserForm.remark = $$v\n      },\n      expression: \"addUserForm.remark\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"角色: \",\n      \"prop\": \"roleIds\"\n    }\n  }, [_c('el-checkbox-group', {\n    model: {\n      value: (_vm.addUserForm.roleIds),\n      callback: function($$v) {\n        _vm.addUserForm.roleIds = $$v\n      },\n      expression: \"addUserForm.roleIds\"\n    }\n  }, _vm._l((_vm.roleList), function($item, $index) {\n    return _c('el-checkbox', {\n      key: $index,\n      attrs: {\n        \"label\": $item.val,\n        \"name\": \"roleList\"\n      }\n    }, [_vm._v(_vm._s($item.label))])\n  }))], 1), _vm._v(\" \"), _c('el-form-item', {\n    staticClass: \"area-box\",\n    attrs: {\n      \"label\": \"选择区域: \",\n      \"prop\": \"treeDialog.checkedValue\"\n    }\n  }, [_c('el-tree', {\n    ref: \"tree\",\n    attrs: {\n      \"data\": this.treeCountry,\n      \"show-checkbox\": \"\",\n      \"node-key\": \"id\",\n      \"default-expanded-keys\": _vm.defaultCheckedData,\n      \"props\": _vm.defaultProps\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    staticStyle: {\n      \"margin\": \"0\",\n      \"text-align\": \"right\"\n    }\n  }, [_c('el-button', {\n    on: {\n      \"click\": _vm.handleClose\n    }\n  }, [_vm._v(\"取消\")]), _vm._v(\" \"), _c('el-button', {\n    attrs: {\n      \"type\": \"primary\"\n    },\n    on: {\n      \"click\": _vm.save_dataTable\n    }\n  }, [_vm._v(\"确定\")])], 1)], 1)], 1)], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-373543e4\",\"hasScoped\":false}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/manage-system/childrens/user.vue\n// module id = 2129\n// module chunks = 19"],"sourceRoot":""}