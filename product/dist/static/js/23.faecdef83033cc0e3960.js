webpackJsonp([23],{1852:function(t,e,a){function o(t){a(2071)}var i=a(122)(a(2018),a(2122),o,null,null);t.exports=i.exports},2018:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a(236),i=a.n(o),n=a(384);e.default={data:function(){return{createDialogForm:{isShow:!1,type:0,title:"",content:""},tableData:[]}},computed:{tabHeight:function(){return this.$store.state.include.tableHeight-305}},mounted:function(){this.data_table()},methods:{btn_auth:function(t){return this.$store.state.user.AUTHIDS.split(",").some(function(e){return e===t})},localStorage_details:function(t){this.$router.push("/system/noticeDetails"),localStorage.setItem("details_notice",i()(t))},data_table:function(t){var e=this;n.a.data_noticeTable({page:t-1||0}).then(function(t){e.tableData=t.data.dat})},add_tableData:function(){var t=this;this.$refs.createDialogForm.validate(function(e){if(!e)return!1;n.a.edit_systemNoticeTable({type:t.createDialogForm.type,title:t.createDialogForm.title,content:t.createDialogForm.content}).then(function(){t.$message({duration:1500,message:"发布成功！"}),t.createDialogForm.isShow=!1,t.data_table()})})},handleClose:function(t){this.$confirm("确认关闭？").then(function(e){t()}).catch(function(t){})}}}},2032:function(t,e,a){e=t.exports=a(1822)(!0),e.push([t.i,".view-notice .notice-group,.view-notice .system-notice-table{margin-bottom:20px}.view-notice .system-notice-pagination{text-align:right}","",{version:3,sources:["D:/www.github.com/project/product/src/components/manage-system/childrens/notice.vue"],names:[],mappings:"AAIA,6DACE,kBAAoB,CACrB,AACD,uCACE,gBAAkB,CACnB",file:"notice.vue",sourcesContent:["\n.view-notice .notice-group {\n  margin-bottom: 20px;\n}\n.view-notice .system-notice-table {\n  margin-bottom: 20px;\n}\n.view-notice .system-notice-pagination {\n  text-align: right;\n}\n"],sourceRoot:""}])},2071:function(t,e,a){var o=a(2032);"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);a(1823)("20f14480",o,!0)},2122:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"view-notice"},[a("div",{staticClass:"notice-group"},[a("el-button",{attrs:{disabled:!t.btn_auth("b_yh_xzyh")},on:{click:function(e){t.createDialogForm.isShow=!0}}},[t._v("发布公告")])],1),t._v(" "),a("div",{staticClass:"system-notice-table"},[a("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{height:t.tabHeight,"max-height":t.tabHeight,data:t.tableData.details,border:"","tooltip-effect":"dark"}},[a("el-table-column",{attrs:{prop:"title",align:"center",label:"标题"}}),t._v(" "),a("el-table-column",{attrs:{prop:"content",align:"center","show-overflow-tooltip":!0,label:"内容"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",label:"目标人群","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s(0===e.row.type?"所有人":"")+"\n          "+t._s(1===e.row.type?"员工":"")+"\n          "+t._s(2===e.row.type?"社会人":"")+"\n        ")]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"pubTime",align:"center",label:"发送时间","show-overflow-tooltip":""}}),t._v(" "),a("el-table-column",{attrs:{align:"center",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){t.localStorage_details(e.row)}}},[t._v("查看详情\n          ")])]}}])})],1)],1),t._v(" "),a("div",{staticClass:"system-notice-pagination"},[a("el-pagination",{attrs:{"page-sizes":[20],layout:"total, sizes, prev, pager, next, jumper",total:t.tableData.rowsCount},on:{"current-change":t.data_table}})],1),t._v(" "),a("el-dialog",{attrs:{title:"发布公告",visible:t.createDialogForm.isShow,size:"small","before-close":t.handleClose},on:{"update:visible":function(e){t.createDialogForm.isShow=e}}},[a("el-form",{ref:"createDialogForm",attrs:{model:t.createDialogForm,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"公告标题: ",prop:"title",rules:{required:!0,message:"标题不能为空",trigger:"blur"}}},[a("el-input",{model:{value:t.createDialogForm.title,callback:function(e){t.createDialogForm.title=e},expression:"createDialogForm.title"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"目标人群"}},[a("el-radio-group",{model:{value:t.createDialogForm.type,callback:function(e){t.createDialogForm.type=e},expression:"createDialogForm.type"}},[a("el-radio",{attrs:{label:0}},[t._v("所有人")]),t._v(" "),a("el-radio",{attrs:{label:1}},[t._v("员工")]),t._v(" "),a("el-radio",{attrs:{label:2}},[t._v("社会人")])],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"公告内容",prop:"content",rules:{required:!0,message:"公告内容不能为空",trigger:"blur"}}},[a("el-input",{attrs:{type:"textarea"},model:{value:t.createDialogForm.content,callback:function(e){t.createDialogForm.content=e},expression:"createDialogForm.content"}})],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:t.add_tableData}},[t._v("确定")]),t._v(" "),a("el-button",{on:{click:function(e){t.createDialogForm.isShow=!1}}},[t._v("取消")])],1)],1)],1)],1)},staticRenderFns:[]}}});
//# sourceMappingURL=23.faecdef83033cc0e3960.js.map